(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{127:function(e,n){},128:function(e,n){},133:function(e,n,t){"use strict";t.r(n);var r,a,c,i,o,s,l,u,d,b,h,j,p,m,x,f,g,O,v,w,y,k,C,S,_,D,M,A,T,U,E,I,N,z,H,R,L,V,W=t(1),J=t.n(W),P=t(55),F=t.n(P),B=t(17),$=t(8),q=t(31),G=t(7),K=Object($.b)(r||(r=Object(G.a)(["\n  :root {\n    --bg-color: ",";\n    --font-color: ",";\n    --dark-blue: ",";\n    --white: ",";\n    --side-menu-color: ",";\n    --button-color: ",";\n    --disabled-button-color: ",';\n  }\n   \n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  \n  body {\n    font-family: "Roboto", sans-serif;\n    color: var(--font-color);\n    background-color:  var(--bg-color);\n    overflow-y:  ',';\n  }\n  .app_wrapper {\n  position: "relative";\n  }\n  ::placeholder {\n    color: var(--font-color);\n  }\n  .custom-container {\n    padding: 0 2.5%;\n    padding-top: 45px;\n  }\n\n  .menu_item {\n    font-size: 14px;\n    text-decoration: none;\n    color:  var(--white);\n    border: 1px solid  var(--white);\n    padding: 5px 10px;\n    transition: 0.3s;\n  }\n\n  .menu_item:hover {\n    background-color:  var(--white);\n    color: var(--dark-blue);\n  }\n\n  .menu_item_active {\n    font-size: 14px;\n    text-decoration: none;\n    background-color: var(--white);\n    color:  var(--dark-blue);\n    border: 1px solid var(--white);\n    padding: 5px 10px;\n    transition: 0.3s;\n  }\n\n  /* .weather-cards_wrapper {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 270px);\n    grid-column-gap: 35px;\n    justify-content: space-around;\n    margin-top: 30px;\n  } */\n\n  .page-name__title {\n    font-size: 38px;\n    display: inline-block;\n    background-color: var(--dark-blue);\n    margin-top: 35px;\n    color: var(--white);\n    padding: 6px 18px;\n    border-radius: 7px;\n  }\n'])),(function(e){return e.theme.bgColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.darkBlue}),(function(e){return e.theme.white}),(function(e){return e.theme.sideMenuColor}),(function(e){return e.theme.buttonColor}),(function(e){return e.theme.disabledButtonColor}),(function(e){return e.isMenuHidden?"auto":"hidden"})),Q=Object(W.createContext)(""),X="light",Y="dark",Z=Object(W.createContext)(""),ee=function(){},ne=Object(W.createContext)({isAuth:!1,login:ee,loginLoading:!1,logout:ee,loginError:"",clearErrors:ee}),te=t(90),re=t(9),ae=t(19),ce=t(23),ie=t(11),oe=t.n(ie),se=t(45),le=t.n(se),ue=t(89),de=$.c.form(a||(a=Object(G.a)(["\n  display: flex;\n  align-items: center;\n  background-color: var(--white);\n  height: 28px;\n  width: 270px;\n  border-radius: 15px;\n  @media (max-width: 935px) {\n    width: 200px;\n  }\n"]))),be=$.c.input(c||(c=Object(G.a)(["\n  border: none;\n  outline: none;\n  background-color: var(--white);\n  color: var(--font-color);\n  padding: 0 5px;\n  margin-left: 8px;\n  width: 85%;\n"]))),he=t(20),je=t(22),pe="https://api.openweathermap.org",me=Object(je.b)("weather/fetchData",function(){var e=Object(ce.a)(oe.a.mark((function e(n,t){var r,a,c,i;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.lat,a=n.lon,c=t.rejectWithValue,e.prev=2,e.next=5,le.a.get("".concat(pe,"/data/2.5/onecall?lat=").concat(r,"&lon=").concat(a,"&appid=").concat("a8d9c96fb31cbbc87e9d4158a07a3fc6"));case 5:return i=e.sent,e.abrupt("return",i.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",c(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n,t){return e.apply(this,arguments)}}()),xe=Object(je.c)({name:"weather",initialState:{loading:!1,weather:{},coordinates:{lat:41.6941,lon:44.8337},error:""},extraReducers:(i={},Object(he.a)(i,me.pending.type,(function(e){e.loading=!0})),Object(he.a)(i,me.fulfilled.type,(function(e,n){var t=n.payload;e.weather=t,e.loading=!1})),Object(he.a)(i,me.rejected.type,(function(e,n){var t=n.payload;e.error=t,e.loading=!1})),i),reducers:{fetchWeather:function(e){e.loading=!0},fetchWeatherAccess:function(e,n){e.loading=!1,e.weather=n.payload},fetchWeatherError:function(e,n){e.loading=!1,e.error=n.payload},changeCoordinates:function(e,n){e.loading=!0,e.coordinates=n.payload}}}),fe=xe.actions,ge=fe.fetchWeather,Oe=fe.fetchWeatherAccess,ve=fe.fetchWeatherError,we=fe.changeCoordinates,ye=xe.reducer,ke=t(3),Ce=function(e){var n=e.setSearchValue,t=e.handleSearchClick,r=Object(W.useContext)(Q),a=Object(W.useRef)(),c=Object(q.b)(),i=function(){var e=Object(ce.a)(oe.a.mark((function e(i){var o,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.preventDefault(),e.prev=1,!r){e.next=10;break}return e.next=5,le()("http://api.openweathermap.org/geo/1.0/direct?q=".concat(r,"&limit=1&appid=").concat("a8d9c96fb31cbbc87e9d4158a07a3fc6"));case 5:o=e.sent,s=o.data,c(we({lat:s[0].lat,lon:s[0].lon})),t(s[0].name,a),n("");case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}();return Object(ke.jsxs)(de,{onSubmit:i,children:[Object(ke.jsx)(be,{type:"text",placeholder:"Enter the city",ref:a,value:r,onChange:function(e){return n(e.target.value)}}),Object(ke.jsx)(ue.a,{style:{color:"#555"}})]})},Se=t(70),_e="light",De="dark",Me={theme:_e},Ae=Object(je.c)({name:"theme",initialState:Me,reducers:{changeTheme:function(e){e.theme===_e?e.theme=De:e.theme=_e}}}),Te=Ae.actions.changeTheme,Ue=Ae.reducer,Ee=$.c.div(o||(o=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n"]))),Ie=function(){var e=Object(q.c)((function(e){return e.theme})).theme,n=Object(q.b)();return Object(ke.jsxs)(Ee,{onClick:function(){n(Te())},children:[e===X&&Object(ke.jsx)(Se.b,{style:{color:"#e3d514",fontSize:24}}),e===Y&&Object(ke.jsx)(Se.a,{style:{color:"#757575  ",fontSize:20}})]})},Ne=$.c.button(s||(s=Object(G.a)(["\n  border: none;\n  background-color: ",";\n  color: var(--white);\n  padding: 7px 15px;\n  border-radius: 4px;\n  &:disabled {\n    background-color: var(--disabled-button-color);\n  }\n"])),(function(e){return e.color})),ze=function(e){var n=e.onClick,t=e.disabled,r=e.children,a=e.color,c=void 0===a?"var(--dark-blue)":a,i=e.type;return Object(ke.jsx)(Ne,{onClick:n,disabled:t,color:c,type:i,children:r})},He=$.c.div(l||(l=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--dark-blue);\n  width: 100%;\n  height: 60px;\n  margin: 0 auto;\n"]))),Re=$.c.div(u||(u=Object(G.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  margin: 0 2.5%;\n\n  @media only screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),Le=$.c.nav(d||(d=Object(G.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: ",";\n"])),(function(e){return e.width})),Ve=$.c.div(b||(b=Object(G.a)(["\n  position: absolute;\n  left: 0;\n"]))),We=$.c.div(h||(h=Object(G.a)(["\n  position: absolute;\n  right: 0;\n"]))),Je=$.c.div(j||(j=Object(G.a)(["\n  position: absolute;\n  right: 70px;\n"]))),Pe=$.c.div(p||(p=Object(G.a)(["\n  width: 42px;\n  height: 42px;\n  display: none;\n  margin: 0 2.5%;\n  border-radius: 50%;\n  margin-left: auto;\n  background-color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n\n  @media only screen and (max-width: 768px) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"])),(function(e){return e.active&&"rgba(255, 255, 255, 0.1)"})),Fe=function(e){var n=e.setIsMenuHidden,t=e.isMenuHidden,r=e.setSearchValue,a=e.handleSearchClick,c=e.setCurrentTheme,i=e.sideMenuHidding,o=e.sideMenuShowing,s=Object(W.useContext)(ne),l=s.isAuth,u=s.logout,d=Object(re.f)();return Object(ke.jsxs)(He,{children:[Object(ke.jsxs)(Re,{children:[l&&Object(ke.jsx)(Ve,{children:Object(ke.jsx)(Ce,{setSearchValue:r,handleSearchClick:a})}),l?Object(ke.jsxs)(Le,{width:"225px",children:[Object(ke.jsx)(ae.b,{to:"/",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Current"}),Object(ke.jsx)(ae.b,{to:"/daily",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Daily"}),Object(ke.jsx)(ae.b,{to:"/hourly",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Hourly"})]}):Object(ke.jsxs)(Le,{width:"155px",children:[Object(ke.jsx)(ae.b,{to:"/",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Login"}),Object(ke.jsx)(ae.b,{to:"/register",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Register"})]}),l&&Object(ke.jsx)(Je,{children:Object(ke.jsx)(ze,{color:"#1859ae",onClick:function(){u(),d("/")},children:"Logout"})}),Object(ke.jsx)(We,{children:Object(ke.jsx)(Ie,{setCurrentTheme:c})})]}),Object(ke.jsx)(Pe,{active:!t,onClick:function(){n((function(e){return!e})),t?o():i()},children:Object(ke.jsx)(te.a,{style:{fontSize:24,color:"#fff"}})})]})},Be=$.c.div(m||(m=Object(G.a)(["\n  position: fixed;\n  left: -100%;\n  height: 100%;\n  width: 100%;\n  background-color: var(--side-menu-color);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  @media only screen and (min-width: 768px) {\n    left: -100% !important;\n  }\n"]))),$e=$.c.div(x||(x=Object(G.a)(["\n  height: 60%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),qe=$.c.div(f||(f=Object(G.a)(["\n  height: ",";\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-between;\n"])),(function(e){return e.height})),Ge=function(e){var n=e.isMenuHidden,t=e.setIsMenuHidden,r=e.setSearchValue,a=e.handleSearchClick,c=e.setCurrentTheme,i=e.hiddingContent,o=e.sideMenuHidding,s=Object(W.useContext)(ne),l=s.isAuth,u=s.logout,d=Object(re.f)(),b=function(){t(!0),o()};return Object(ke.jsx)(Be,{isHidden:n,ref:i,children:Object(ke.jsxs)($e,{children:[l&&Object(ke.jsx)(Ce,{setSearchValue:r,handleSearchClick:a}),l?Object(ke.jsxs)(qe,{height:"140px",children:[Object(ke.jsx)(ae.b,{to:"/",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Current"}),Object(ke.jsx)(ae.b,{to:"/daily",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Daily"}),Object(ke.jsx)(ae.b,{to:"/hourly",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Hourly"})]}):Object(ke.jsxs)(qe,{height:"85px",children:[Object(ke.jsx)(ae.b,{to:"/",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Login"}),Object(ke.jsx)(ae.b,{to:"/register",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Register"})]}),l&&Object(ke.jsx)(ze,{color:"#1859ae",onClick:function(){u(),b(),d("/")},children:"Logout"}),Object(ke.jsx)(Ie,{setCurrentTheme:c})]})})},Ke=$.c.div(g||(g=Object(G.a)(["\n  width: 321px;\n  height: 490px;\n  background-color: var(--dark-blue); //#649fd2\n  border-radius: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--white);\n  margin: 0 auto;\n  margin-bottom: 40px;\n  margin-top: 35px;\n"]))),Qe=$.c.div(O||(O=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 85%;\n"]))),Xe=$.c.div(v||(v=Object(G.a)([""]))),Ye=$.c.p(w||(w=Object(G.a)(["\n  font-size: ","px;\n  font-weight: 200;\n"])),(function(e){return e.size})),Ze=$.c.div(y||(y=Object(G.a)(["\n  display: flex;\n  align-items: center;\n"]))),en=($.c.span(k||(k=Object(G.a)(["\n  font-size: 44px;\n  font-weight: 200;\n  color: rgba(255, 255, 255, 0.5);\n"]))),$.c.img(C||(C=Object(G.a)(["\n  width: 80px;\n"])))),nn=function(e){var n=e.title,t=e.city,r=e.temp,a=e.date,c=e.day,i=e.month,o=e.hours,s=e.minutes,l=e.icon;return Object(ke.jsx)("div",{className:"col",children:Object(ke.jsx)(Ke,{children:Object(ke.jsxs)(Qe,{children:[Object(ke.jsxs)(Xe,{children:[Object(ke.jsx)(Ye,{size:"20",children:n}),Object(ke.jsx)(Ze,{children:Object(ke.jsxs)(Ye,{size:"78",children:[r||"-","\xb0"]})})]}),Object(ke.jsx)(Ye,{size:"22",children:t&&t}),Object(ke.jsx)(en,{src:"http://openweathermap.org/img/w/".concat(l,".png")}),o&&Object(ke.jsxs)(Ye,{size:"24",children:[o,":",s||"00"]}),Object(ke.jsxs)(Ye,{size:"18",children:[a," | ",c]}),Object(ke.jsx)(Ye,{size:"18",children:i})]})})})},tn=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],rn=["January","February","March","April","May","June","July","August","September","October","November","December"],an=$.c.div(S||(S=Object(G.a)(["\n  padding-top: 35px;\n"]))),cn=function(e){var n,t,r,a,c,i,o,s,l=e.weatherData,u=Object(W.useContext)(Z);return Object(ke.jsx)(an,{children:Object(ke.jsx)(nn,{temp:Math.floor((null===(n=l.current)||void 0===n?void 0:n.temp)-273.15),city:u,title:l.current&&l.current.weather&&l.current.weather[0]&&l.current.weather[0].main,icon:l.current&&l.current.weather&&l.current.weather[0]&&l.current.weather[0].icon,date:new Date(1e3*(null===(t=l.current)||void 0===t?void 0:t.dt)).getDate(),day:tn[new Date(1e3*(null===(r=l.current)||void 0===r?void 0:r.dt)).getDay()],month:rn[new Date(1e3*(null===(a=l.current)||void 0===a?void 0:a.dt)).getMonth()],hours:new Date(1e3*(null===(c=l.current)||void 0===c?void 0:c.dt)).getHours().toString(),minutes:new Date(1e3*(null===(i=l.current)||void 0===i?void 0:i.dt)).getMinutes()<10?"0"+new Date(1e3*(null===(o=l.current)||void 0===o?void 0:o.dt)).getMinutes().toString():new Date(1e3*(null===(s=l.current)||void 0===s?void 0:s.dt)).getMinutes().toString()})})},on=(t(127),function(e){var n=e.weatherData,t=Object(W.useContext)(Z);return Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)("p",{className:"page-name__title",children:t}),Object(ke.jsx)("div",{className:"row justify-content-around",children:n.daily&&n.daily.map((function(e){return Object(ke.jsx)(nn,{temp:Math.floor(e.temp.day-273.15),title:e.weather[0].main,icon:e.weather[0].icon,date:new Date(1e3*e.dt).getDate(),day:tn[new Date(1e3*e.dt).getDay()],month:rn[new Date(1e3*e.dt).getMonth()]},e.dt)}))})]})}),sn=(t(128),function(e){var n=e.weatherData,t=Object(W.useContext)(Z);return Object(ke.jsxs)(ke.Fragment,{children:[Object(ke.jsx)("p",{className:"page-name__title",children:t}),Object(ke.jsx)("div",{className:"row",children:n.hourly&&n.hourly.map((function(e){return Object(ke.jsx)(nn,{temp:Math.floor(e.temp-273.15),title:e.weather[0].main,icon:e.weather[0].icon,date:new Date(1e3*e.dt).getDate(),month:rn[new Date(1e3*e.dt).getMonth()],day:tn[new Date(1e3*e.dt).getDay()],hours:new Date(1e3*e.dt).getHours().toString()},e.dt)}))})]})}),ln=$.c.div(_||(_=Object(G.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 12rem;\n"]))),un=Object($.d)(D||(D=Object(G.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),dn=$.c.div(M||(M=Object(G.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n  & div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border: 6px solid var(--side-menu-color);\n    border-radius: 50%;\n    animation: "," 1.3s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: var(--side-menu-color) transparent transparent transparent;\n    &::nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    &::nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    &::nth-child(3) {\n      animation-delay: -0.15s;\n    }\n  }\n"])),un),bn=function(){return Object(ke.jsx)(ln,{children:Object(ke.jsxs)(dn,{children:[Object(ke.jsx)("div",{}),Object(ke.jsx)("div",{}),Object(ke.jsx)("div",{}),Object(ke.jsx)("div",{})]})})},hn=t(57),jn=t.n(hn),pn=t(26),mn=t(148),xn=t(145),fn=Object(xn.a)(A||(A=Object(G.a)(["\n  mutation createUser($input: UserInput) {\n    createUser(input: $input) {\n      username\n      email\n    }\n  }\n"]))),gn=Object(xn.a)(T||(T=Object(G.a)(["\n  mutation loginUser($user: UserInput) {\n    loginUser(user: $user) {\n      username\n      email\n      password\n    }\n  }\n"]))),On=t(51),vn=$.c.input(U||(U=Object(G.a)(["\n  outline: none;\n  border: none;\n  width: 400px;\n  height: 40px;\n  box-shadow: 0 0 4px var(--dark-blue);\n  border-radius: 4px;\n  padding-left: 11px;\n  background-color: var(--white);\n  margin-bottom: 14px;\n  transition: box-shadow 0.2s ease;\n  &:focus {\n    box-shadow: 0 0 7px var(--dark-blue);\n  }\n  @media only screen and (max-width: 472px) {\n    width: 320px;\n  }\n  @media only screen and (max-width: 372px) {\n    width: 270px;\n  }\n"]))),wn=function(e){return Object(ke.jsx)("div",{children:Object(ke.jsx)(vn,Object(On.a)({},e))})},yn=$.c.h2(E||(E=Object(G.a)(["\n  color: var(--dark-blue);\n  font-size: 55px;\n  font-weight: bold;\n  margin: 120px 0 20px;\n"]))),kn=$.c.div(I||(I=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),Cn=$.c.label(N||(N=Object(G.a)(["\n  display: block;\n  margin: 5px 0 10px;\n  cursor: pointer;\n"]))),Sn=$.c.span(z||(z=Object(G.a)(["\n  color: var(--side-menu-color);\n  font-weight: 700;\n  margin-left: 5px;\n"]))),_n=$.c.div(H||(H=Object(G.a)(["\n  margin: 30px 0 -104px;\n"]))),Dn=$.c.div(R||(R=Object(G.a)(["\n  background-color: #f8d7da;\n  width: 100%;\n  padding: 0 0 0 8px;\n  margin: 2px 0 6px;\n  border-radius: 4px;\n"]))),Mn=$.c.span(L||(L=Object(G.a)(["\n  color: #842029;\n  font-size: 14px;\n"]))),An=function(e){var n=e.children;return Object(ke.jsx)(Dn,{children:Object(ke.jsx)(Mn,{children:n})})},Tn=function(){var e=Object(mn.a)(fn),n=Object(B.a)(e,2),t=n[0],r=n[1].loading,a=Object(re.f)(),c=function(){var e=Object(ce.a)(oe.a.mark((function e(n){var r,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=jn()(n.password),c={username:n.username,email:n.email,password:r},e.next=5,t({variables:{input:c}});case 5:a("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return r?Object(ke.jsx)(bn,{}):Object(ke.jsxs)(kn,{children:[Object(ke.jsx)(yn,{children:"Register"}),Object(ke.jsx)(pn.c,{initialValues:{username:"",email:"",password:"",password2:""},onSubmit:c,validate:function(e){var n={};return e.username?e.username.length<4&&(n.username="Username must be at least 4 characters"):n.username="Username is required",e.email?/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e.email)||(n.email="Email is incorrect"):n.email="Email is required",e.password?e.password.length<4&&(n.password="Password must be at least 4 characters"):n.password="Password is required",e.password2?e.password2!==e.password&&(n.password2="Passwords do not match"):n.password2="Repeat your password",n},children:function(e){var n=e.touched,t=e.errors;return Object(ke.jsx)(pn.b,{children:Object(ke.jsxs)(kn,{children:[t.username&&n.username&&Object(ke.jsxs)(An,{children:["* ",t.username]}),Object(ke.jsx)(pn.a,{name:"username",type:"text",as:wn,placeholder:"Username"}),t.email&&n.email&&Object(ke.jsxs)(An,{children:["* ",t.email]}),Object(ke.jsx)(pn.a,{name:"email",type:"email",as:wn,placeholder:"Email"}),t.password&&n.password&&Object(ke.jsxs)(An,{children:["* ",t.password]}),Object(ke.jsx)(pn.a,{name:"password",type:"password",as:wn,placeholder:"Password"}),t.password2&&n.password2&&Object(ke.jsxs)(An,{children:["* ",t.password2]}),Object(ke.jsx)(pn.a,{name:"password2",type:"password",as:wn,placeholder:"Repeat the password"}),Object(ke.jsx)(ze,{type:"submit",children:"Register"})]})})}})]})},Un=function(){var e=Object(W.useContext)(ne),n=e.login,t=e.loginError,r=e.loginLoading,a=e.clearErrors,c=function(){var e=Object(ce.a)(oe.a.mark((function e(t){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(W.useEffect)((function(){return function(){a()}}),[a]),r?Object(ke.jsx)(bn,{}):Object(ke.jsxs)(kn,{children:[t&&Object(ke.jsx)(_n,{children:Object(ke.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})}),Object(ke.jsx)(yn,{children:"Login"}),Object(ke.jsx)(pn.c,{initialValues:{email:"",password:"",checkedRemember:!1},onSubmit:c,children:function(){return Object(ke.jsx)(pn.b,{children:Object(ke.jsxs)(kn,{children:[Object(ke.jsx)(pn.a,{name:"email",type:"email",as:wn,placeholder:"Email"}),Object(ke.jsx)(pn.a,{name:"password",type:"password",as:wn,placeholder:"Password"}),Object(ke.jsxs)(Cn,{children:[Object(ke.jsx)(pn.a,{name:"checkedRemember",type:"checkbox"}),Object(ke.jsx)(Sn,{children:"Remember me"})]}),Object(ke.jsx)(ze,{type:"submit",children:"Login"})]})})}})]})},En=function(e){var n=e.isLoading,t=e.weatherData,r=Object(W.useContext)(ne).isAuth;return n?Object(ke.jsx)(bn,{}):Object(ke.jsx)(ke.Fragment,{children:r?Object(ke.jsxs)(re.c,{children:[Object(ke.jsx)(re.a,{path:"/",element:Object(ke.jsx)(cn,{weatherData:t})}),Object(ke.jsx)(re.a,{path:"/daily",element:Object(ke.jsx)(on,{weatherData:t})}),Object(ke.jsx)(re.a,{path:"/hourly",element:Object(ke.jsx)(sn,{weatherData:t})})]}):Object(ke.jsxs)(re.c,{children:[Object(ke.jsx)(re.a,{path:"/",element:Object(ke.jsx)(Un,{})}),Object(ke.jsx)(re.a,{path:"/register",element:Object(ke.jsx)(Tn,{})})]})})},In={bgColor:"#dfe6e9",fontColor:"#000",darkBlue:"#3d70b2",white:"#ffffff",sideMenuColor:"rgba(101, 148, 168, 0.92)",buttonColor:"#3d70b2",disabledButtonColor:"#809aba"},Nn={bgColor:"#383838",fontColor:"#d4d4d4",darkBlue:"#292929",white:"#8a8a8a",sideMenuColor:"rgba(0, 0, 0, 0.80)",buttonColor:"#292929",disabledButtonColor:"#474747"},zn=function(e){window.scrollTo(0,0);var n=0,t=setInterval((function(){n>=window.innerWidth&&(clearInterval(t),e.current.style.display="none"),n+=9,e.current.style.left="-".concat(n,"px")}),1)},Hn=function(e,n,t){var r=new Date;r.setTime(r.getTime()+60*t*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+n+";"+a+";path=/"},Rn=t(147),Ln=function(){var e=Object(W.useState)("Tbilisi"),n=Object(B.a)(e,2),t=n[0],r=n[1],a=Object(W.useState)(""),c=Object(B.a)(a,2),i=c[0],o=c[1],s=Object(W.useState)(!0),l=Object(B.a)(s,2),u=l[0],d=l[1],b=Object(q.c)((function(e){return e.theme})).theme,h=Object(q.c)((function(e){return e.weather})),j=h.weather,p=h.loading,m=h.coordinates,x=h.error,f=function(){var e=Object(W.useState)(!1),n=Object(B.a)(e,2),t=n[0],r=n[1],a=Object(W.useState)(""),c=Object(B.a)(a,2),i=c[0],o=c[1],s=Object(mn.a)(gn),l=Object(B.a)(s,2),u=l[0],d=l[1].loading,b=function(){var e=Object(ce.a)(oe.a.mark((function e(n){var t,a,c,i,s;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,a=n.password,c=n.checkedRemember,e.prev=1,e.next=4,u({variables:{user:{email:t,password:a}}});case 4:(i=e.sent).data.loginUser?(s=Object(Rn.a)(),c&&Hn("authToken","".concat(i.data.loginUser.username,"?").concat(s),240),Hn("authToken","".concat(i.data.loginUser.username,"?").concat(s),2),r(!0)):o("Invalid email or password"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),h=Object(W.useCallback)((function(){o("")}),[o]);return{isAuth:t,setIsAuth:r,login:b,loginLoading:d,logout:function(){document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",r(!1)},loginError:i,clearErrors:h}}(),g=f.isAuth,O=f.setIsAuth,v=f.login,w=f.loginLoading,y=f.logout,k=f.loginError,C=f.clearErrors,S=Object(q.b)(),_=Object(W.useRef)();Object(W.useEffect)((function(){S(ge(m));var e=setInterval((function(){S(ge(m))}),36e5),n=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return""}("authToken");return O(!!n),function(){clearInterval(e)}}),[S,O,m]);var D=function(e,n){r(e),n.current.blur()};return Object(ke.jsxs)($.a,{theme:b===X?In:Nn,children:[Object(ke.jsx)(K,{isMenuHidden:u}),Object(ke.jsx)(ne.Provider,{value:{isAuth:g,login:v,logout:y,loginLoading:w,loginError:k,clearErrors:C},children:Object(ke.jsxs)(Q.Provider,{value:i,children:[Object(ke.jsx)(Fe,{isMenuHidden:u,setIsMenuHidden:d,setSearchValue:o,handleSearchClick:D,sideMenuHidding:function(){return zn(_)},sideMenuShowing:function(){return function(e){window.scrollTo(0,0),e.current.style.display="flex";var n=window.innerWidth,t=setInterval((function(){n<=0&&clearInterval(t),n<9&&(n-=n,e.current.style.left="-".concat(n,"px"),clearInterval(t)),n-=9,e.current.style.left="-".concat(n,"px")}),1)}(_)}}),Object(ke.jsxs)("div",{className:"app-wrapper",children:[Object(ke.jsx)(Ge,{isMenuHidden:u,setIsMenuHidden:d,setSearchValue:o,handleSearchClick:D,hiddingContent:_,sideMenuHidding:function(){return zn(_)}}),Object(ke.jsx)(Z.Provider,{value:t,children:Object(ke.jsxs)("div",{className:"container",children:[x&&Object(ke.jsx)("div",{className:"alert alert-danger",role:"alert",style:{marginTop:25},children:x}),Object(ke.jsx)(En,{weatherData:j,isLoading:p})]})})]})]})})]})},Vn=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,150)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))},Wn=t(95),Jn=t(144),Pn=t(146),Fn=t(143),Bn=t(63),$n=t(18),qn=t(97),Gn=t(39),Kn=t(96),Qn=t.n(Kn),Xn=Object(je.b)("auth/registerUser",function(){var e=Object(ce.a)(oe.a.mark((function e(n,t){var r,a,c;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.rejectWithValue,e.prev=1,(a=JSON.parse(localStorage.getItem("users")))?(c=JSON.stringify([].concat(Object(Bn.a)(a),[n])),localStorage.setItem("users",c)):localStorage.setItem("users",JSON.stringify([n])),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n,t){return e.apply(this,arguments)}}()),Yn=Object(je.b)("auth/loginUser",function(){var e=Object(ce.a)(oe.a.mark((function e(n,t){var r,a,c,i,o,s,l;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.email,a=n.password,c=n.checkedRemember,i=t.rejectWithValue,e.prev=2,o=JSON.parse(localStorage.getItem("users")),!(s=o.find((function(e){return e.email===r})))){e.next=13;break}if(jn()(a)!==s.password){e.next=13;break}if(l=Object(Rn.a)(),!c){e.next=11;break}return Hn("authToken","".concat(s.username,"?").concat(l),240),e.abrupt("return",s);case 11:return Hn("authToken","".concat(s.username,"?").concat(l),2),e.abrupt("return",s);case 13:return e.abrupt("return",i("Invalid email or password"));case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",i(e.t0.message));case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(n,t){return e.apply(this,arguments)}}()),Zn=Object(je.b)("auth/logoutUser",function(){var e=Object(ce.a)(oe.a.mark((function e(n,t){var r;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.rejectWithValue,e.prev=1,document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(n,t){return e.apply(this,arguments)}}()),et=Object(je.c)({name:"auth",initialState:{isAuth:!1,loading:!1,currentUser:{},loginError:""},reducers:{checkUser:function(e,n){e.isAuth=!0,e.currentUser={username:n.payload.username,email:n.payload.email}}},extraReducers:(V={},Object(he.a)(V,Xn.pending.type,(function(e){e.loading=!0})),Object(he.a)(V,Xn.fulfilled.type,(function(e){e.loading=!1})),Object(he.a)(V,Xn.rejected.type,(function(e){e.loading=!1})),Object(he.a)(V,Yn.pending.type,(function(e){e.loading=!0})),Object(he.a)(V,Yn.fulfilled.type,(function(e,n){var t=n.payload;e.loginError="",e.loading=!1,e.currentUser={username:t.username,email:t.email},e.isAuth=!0})),Object(he.a)(V,Yn.rejected.type,(function(e,n){var t=n.payload;e.loading=!1,e.loginError=t})),Object(he.a)(V,Zn.pending.type,(function(e){e.loading=!0})),Object(he.a)(V,Zn.fulfilled.type,(function(e){e.loading=!1,e.currentUser={},e.isAuth=!1})),Object(he.a)(V,Zn.rejected.type,(function(e,n){var t=n.payload;e.loading=!1,e.loginError=t})),V)}),nt=(et.actions.checkUser,et.reducer),tt=t(42),rt=oe.a.mark(ct),at=oe.a.mark(it);function ct(e){var n,t,r,a;return oe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return n=e.payload,t=n.lat,r=n.lon,c.prev=1,c.next=4,le.a.get("".concat(pe,"/data/2.5/onecall?lat=").concat(t,"&lon=").concat(r,"&appid=").concat("a8d9c96fb31cbbc87e9d4158a07a3fc6"));case 4:return a=c.sent,c.next=7,Object(tt.b)(Oe(a.data));case 7:c.next=13;break;case 9:return c.prev=9,c.t0=c.catch(1),c.next=13,Object(tt.b)(ve(c.t0.message));case 13:case"end":return c.stop()}}),rt,null,[[1,9]])}function it(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.c)(ge.type,ct);case 2:return e.next=4,Object(tt.c)(we.type,ct);case 4:case"end":return e.stop()}}),at)}var ot=oe.a.mark(st);function st(){return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(tt.a)([it()]);case 2:case"end":return e.stop()}}),ot)}var lt=st,ut=Object($n.b)({weather:ye,auth:nt,theme:Ue}),dt=Object(qn.a)(),bt={key:"root",storage:Qn.a,whitelist:["theme"]},ht=Object(Gn.g)(bt,ut),jt=[].concat(Object(Bn.a)(Object(je.d)({serializableCheck:{ignoredActions:[Gn.a,Gn.f,Gn.b,Gn.c,Gn.d,Gn.e]}})),[dt]),pt=Object(je.a)({reducer:ht,middleware:jt}),mt=Object(Gn.h)(pt);dt.run(lt);var xt=new Jn.a({uri:"https://a0b1-46-49-36-193.ngrok.io",cache:new Pn.a});F.a.render(Object(ke.jsx)(J.a.StrictMode,{children:Object(ke.jsx)(q.a,{store:pt,children:Object(ke.jsx)(Wn.a,{persistor:mt,children:Object(ke.jsx)(Fn.a,{client:xt,children:Object(ke.jsx)(ae.a,{children:Object(ke.jsx)(Ln,{})})})})})}),document.getElementById("root")),Vn()}},[[133,1,2]]]);
//# sourceMappingURL=main.ad6b4af0.chunk.js.map