(this["webpackJsonpreact-weather"]=this["webpackJsonpreact-weather"]||[]).push([[0],{125:function(e,n){},126:function(e,n){},131:function(e,n,t){"use strict";t.r(n);var r,a,c,i,o,s,l,u,d,b,j,h,p,m,x,f,g,O,v,w,y,k,C,S,_,D,M,T,A,U,N,z,E,I,H,R,L,V,J=t(1),P=t.n(J),F=t(55),B=t.n(F),W=t(10),$=t(7),q=t(37),G=t(18),K=t(11),Q=t.n(K),X=t(20),Y=t(56),Z=t.n(Y),ee=Object(X.b)("weather/fetchData",function(){var e=Object(G.a)(Q.a.mark((function e(n,t){var r,a,c,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.lat,a=n.lon,c=t.rejectWithValue,e.prev=2,e.next=5,Z.a.get("".concat("https://api.openweathermap.org","/data/2.5/onecall?lat=").concat(r,"&lon=").concat(a,"&appid=").concat("a8d9c96fb31cbbc87e9d4158a07a3fc6"));case 5:return i=e.sent,e.abrupt("return",i.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",c(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(n,t){return e.apply(this,arguments)}}()),ne=t(6),te=Object($.b)(r||(r=Object(ne.a)(["\n  :root {\n    --bg-color: ",";\n    --font-color: ",";\n    --dark-blue: ",";\n    --white: ",";\n    --side-menu-color: ",";\n    --button-color: ",";\n    --disabled-button-color: ",';\n  }\n   \n  * {\n    padding: 0;\n    margin: 0;\n    box-sizing: border-box;\n  }\n  \n  body {\n    font-family: "Roboto", sans-serif;\n    color: var(--font-color);\n    background-color:  var(--bg-color);\n    overflow-y:  ',';\n  }\n  .app_wrapper {\n  position: "relative";\n  }\n  ::placeholder {\n    color: var(--font-color);\n  }\n  .custom-container {\n    padding: 0 2.5%;\n    padding-top: 45px;\n  }\n\n  .menu_item {\n    font-size: 14px;\n    text-decoration: none;\n    color:  var(--white);\n    border: 1px solid  var(--white);\n    padding: 5px 10px;\n    transition: 0.3s;\n  }\n\n  .menu_item:hover {\n    background-color:  var(--white);\n    color: var(--dark-blue);\n  }\n\n  .menu_item_active {\n    font-size: 14px;\n    text-decoration: none;\n    background-color: var(--white);\n    color:  var(--dark-blue);\n    border: 1px solid var(--white);\n    padding: 5px 10px;\n    transition: 0.3s;\n  }\n\n  /* .weather-cards_wrapper {\n    display: grid;\n    grid-template-columns: repeat(auto-fill, 270px);\n    grid-column-gap: 35px;\n    justify-content: space-around;\n    margin-top: 30px;\n  } */\n\n  .page-name__title {\n    font-size: 38px;\n    display: inline-block;\n    background-color: var(--dark-blue);\n    margin-top: 35px;\n    color: var(--white);\n    padding: 6px 18px;\n    border-radius: 7px;\n  }\n'])),(function(e){return e.theme.bgColor}),(function(e){return e.theme.fontColor}),(function(e){return e.theme.darkBlue}),(function(e){return e.theme.white}),(function(e){return e.theme.sideMenuColor}),(function(e){return e.theme.buttonColor}),(function(e){return e.theme.disabledButtonColor}),(function(e){return e.isMenuHidden?"auto":"hidden"})),re=Object(J.createContext)(""),ae="light",ce="dark",ie=Object(J.createContext)(""),oe=function(){},se=Object(J.createContext)({isAuth:!1,login:oe,loginLoading:!1,logout:oe,loginError:"",clearErrors:oe}),le=t(88),ue=t(8),de=t(14),be=t(87),je=$.c.form(a||(a=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n  background-color: var(--white);\n  height: 28px;\n  width: 270px;\n  border-radius: 15px;\n  @media (max-width: 935px) {\n    width: 200px;\n  }\n"]))),he=$.c.input(c||(c=Object(ne.a)(["\n  border: none;\n  outline: none;\n  background-color: var(--white);\n  color: var(--font-color);\n  padding: 0 5px;\n  margin-left: 8px;\n  width: 85%;\n"]))),pe=t(3),me=function(e){var n=e.setSearchValue,t=e.handleSearchClick,r=Object(J.useContext)(re),a=Object(J.useRef)(),c=function(){var e=Object(G.a)(Q.a.mark((function e(c){var i,o;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),e.prev=1,!r){e.next=9;break}return e.next=5,Z()("http://api.openweathermap.org/geo/1.0/direct?q=".concat(r,"&limit=1&appid=").concat("a8d9c96fb31cbbc87e9d4158a07a3fc6"));case 5:i=e.sent,o=i.data,t(o[0].lat,o[0].lon,o[0].name,a),n("");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(n){return e.apply(this,arguments)}}();return Object(pe.jsxs)(je,{onSubmit:c,children:[Object(pe.jsx)(he,{type:"text",placeholder:"Enter the city",ref:a,value:r,onChange:function(e){return n(e.target.value)}}),Object(pe.jsx)(be.a,{style:{color:"#555"}})]})},xe=t(68),fe="light",ge="dark",Oe={theme:fe},ve=Object(X.c)({name:"theme",initialState:Oe,reducers:{changeTheme:function(e){e.theme===fe?e.theme=ge:e.theme=fe}}}),we=ve.actions.changeTheme,ye=ve.reducer,ke=$.c.div(i||(i=Object(ne.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n"]))),Ce=function(){var e=Object(q.c)((function(e){return e.theme})).theme,n=Object(q.b)();return Object(pe.jsxs)(ke,{onClick:function(){n(we())},children:[e===ae&&Object(pe.jsx)(xe.b,{style:{color:"#e3d514",fontSize:24}}),e===ce&&Object(pe.jsx)(xe.a,{style:{color:"#757575  ",fontSize:20}})]})},Se=$.c.button(o||(o=Object(ne.a)(["\n  border: none;\n  background-color: ",";\n  color: var(--white);\n  padding: 7px 15px;\n  border-radius: 4px;\n  &:disabled {\n    background-color: var(--disabled-button-color);\n  }\n"])),(function(e){return e.color})),_e=function(e){var n=e.onClick,t=e.disabled,r=e.children,a=e.color,c=void 0===a?"var(--dark-blue)":a,i=e.type;return Object(pe.jsx)(Se,{onClick:n,disabled:t,color:c,type:i,children:r})},De=$.c.div(s||(s=Object(ne.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--dark-blue);\n  width: 100%;\n  height: 60px;\n  margin: 0 auto;\n"]))),Me=$.c.div(l||(l=Object(ne.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  margin: 0 2.5%;\n\n  @media only screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),Te=$.c.nav(u||(u=Object(ne.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: ",";\n"])),(function(e){return e.width})),Ae=$.c.div(d||(d=Object(ne.a)(["\n  position: absolute;\n  left: 0;\n"]))),Ue=$.c.div(b||(b=Object(ne.a)(["\n  position: absolute;\n  right: 0;\n"]))),Ne=$.c.div(j||(j=Object(ne.a)(["\n  position: absolute;\n  right: 70px;\n"]))),ze=$.c.div(h||(h=Object(ne.a)(["\n  width: 42px;\n  height: 42px;\n  display: none;\n  margin: 0 2.5%;\n  border-radius: 50%;\n  margin-left: auto;\n  background-color: ",";\n  cursor: pointer;\n\n  &:hover {\n    background-color: rgba(255, 255, 255, 0.1);\n  }\n\n  @media only screen and (max-width: 768px) {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n"])),(function(e){return e.active&&"rgba(255, 255, 255, 0.1)"})),Ee=function(e){var n=e.setIsMenuHidden,t=e.isMenuHidden,r=e.setSearchValue,a=e.handleSearchClick,c=e.setCurrentTheme,i=e.sideMenuHidding,o=e.sideMenuShowing,s=Object(J.useContext)(se),l=s.isAuth,u=s.logout,d=Object(ue.f)();return Object(pe.jsxs)(De,{children:[Object(pe.jsxs)(Me,{children:[l&&Object(pe.jsx)(Ae,{children:Object(pe.jsx)(me,{setSearchValue:r,handleSearchClick:a})}),l?Object(pe.jsxs)(Te,{width:"225px",children:[Object(pe.jsx)(de.b,{to:"/",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Current"}),Object(pe.jsx)(de.b,{to:"/daily",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Daily"}),Object(pe.jsx)(de.b,{to:"/hourly",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Hourly"})]}):Object(pe.jsxs)(Te,{width:"155px",children:[Object(pe.jsx)(de.b,{to:"/",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Login"}),Object(pe.jsx)(de.b,{to:"/register",style:{textDecoration:"none"},className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Register"})]}),l&&Object(pe.jsx)(Ne,{children:Object(pe.jsx)(_e,{color:"#1859ae",onClick:function(){u(),d("/")},children:"Logout"})}),Object(pe.jsx)(Ue,{children:Object(pe.jsx)(Ce,{setCurrentTheme:c})})]}),Object(pe.jsx)(ze,{active:!t,onClick:function(){n((function(e){return!e})),t?o():i()},children:Object(pe.jsx)(le.a,{style:{fontSize:24,color:"#fff"}})})]})},Ie=$.c.div(p||(p=Object(ne.a)(["\n  position: fixed;\n  left: -100%;\n  height: 100%;\n  width: 100%;\n  background-color: var(--side-menu-color);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n  @media only screen and (min-width: 768px) {\n    left: -100% !important;\n  }\n"]))),He=$.c.div(m||(m=Object(ne.a)(["\n  height: 60%;\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-between;\n"]))),Re=$.c.div(x||(x=Object(ne.a)(["\n  height: ",";\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: space-between;\n"])),(function(e){return e.height})),Le=function(e){var n=e.isMenuHidden,t=e.setIsMenuHidden,r=e.setSearchValue,a=e.handleSearchClick,c=e.setCurrentTheme,i=e.hiddingContent,o=e.sideMenuHidding,s=Object(J.useContext)(se),l=s.isAuth,u=s.logout,d=Object(ue.f)(),b=function(){t(!0),o()};return Object(pe.jsx)(Ie,{isHidden:n,ref:i,children:Object(pe.jsxs)(He,{children:[l&&Object(pe.jsx)(me,{setSearchValue:r,handleSearchClick:a}),l?Object(pe.jsxs)(Re,{height:"140px",children:[Object(pe.jsx)(de.b,{to:"/",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Current"}),Object(pe.jsx)(de.b,{to:"/daily",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Daily"}),Object(pe.jsx)(de.b,{to:"/hourly",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Hourly"})]}):Object(pe.jsxs)(Re,{height:"85px",children:[Object(pe.jsx)(de.b,{to:"/",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Login"}),Object(pe.jsx)(de.b,{to:"/register",onClick:b,className:function(e){return e.isActive?"menu_item_active":"menu_item"},children:"Register"})]}),l&&Object(pe.jsx)(_e,{color:"#1859ae",onClick:function(){u(),b(),d("/")},children:"Logout"}),Object(pe.jsx)(Ce,{setCurrentTheme:c})]})})},Ve=$.c.div(f||(f=Object(ne.a)(["\n  width: 321px;\n  height: 490px;\n  background-color: var(--dark-blue); //#649fd2\n  border-radius: 15px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: var(--white);\n  margin: 0 auto;\n  margin-bottom: 40px;\n  margin-top: 35px;\n"]))),Je=$.c.div(g||(g=Object(ne.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 85%;\n"]))),Pe=$.c.div(O||(O=Object(ne.a)([""]))),Fe=$.c.p(v||(v=Object(ne.a)(["\n  font-size: ","px;\n  font-weight: 200;\n"])),(function(e){return e.size})),Be=$.c.div(w||(w=Object(ne.a)(["\n  display: flex;\n  align-items: center;\n"]))),We=($.c.span(y||(y=Object(ne.a)(["\n  font-size: 44px;\n  font-weight: 200;\n  color: rgba(255, 255, 255, 0.5);\n"]))),$.c.img(k||(k=Object(ne.a)(["\n  width: 80px;\n"])))),$e=function(e){var n=e.title,t=e.city,r=e.temp,a=e.date,c=e.day,i=e.month,o=e.hours,s=e.minutes,l=e.icon;return Object(pe.jsx)("div",{className:"col",children:Object(pe.jsx)(Ve,{children:Object(pe.jsxs)(Je,{children:[Object(pe.jsxs)(Pe,{children:[Object(pe.jsx)(Fe,{size:"20",children:n}),Object(pe.jsx)(Be,{children:Object(pe.jsxs)(Fe,{size:"78",children:[r||"-","\xb0"]})})]}),Object(pe.jsx)(Fe,{size:"22",children:t&&t}),Object(pe.jsx)(We,{src:"http://openweathermap.org/img/w/".concat(l,".png")}),o&&Object(pe.jsxs)(Fe,{size:"24",children:[o,":",s||"00"]}),Object(pe.jsxs)(Fe,{size:"18",children:[a," | ",c]}),Object(pe.jsx)(Fe,{size:"18",children:i})]})})})},qe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ge=["January","February","March","April","May","June","July","August","September","October","November","December"],Ke=$.c.div(C||(C=Object(ne.a)(["\n  padding-top: 35px;\n"]))),Qe=function(e){var n,t,r,a,c,i,o,s,l=e.weatherData,u=Object(J.useContext)(ie);return Object(pe.jsx)(Ke,{children:Object(pe.jsx)($e,{temp:Math.floor((null===(n=l.current)||void 0===n?void 0:n.temp)-273.15),city:u,title:l.current&&l.current.weather&&l.current.weather[0]&&l.current.weather[0].main,icon:l.current&&l.current.weather&&l.current.weather[0]&&l.current.weather[0].icon,date:new Date(1e3*(null===(t=l.current)||void 0===t?void 0:t.dt)).getDate(),day:qe[new Date(1e3*(null===(r=l.current)||void 0===r?void 0:r.dt)).getDay()],month:Ge[new Date(1e3*(null===(a=l.current)||void 0===a?void 0:a.dt)).getMonth()],hours:new Date(1e3*(null===(c=l.current)||void 0===c?void 0:c.dt)).getHours().toString(),minutes:new Date(1e3*(null===(i=l.current)||void 0===i?void 0:i.dt)).getMinutes()<10?"0"+new Date(1e3*(null===(o=l.current)||void 0===o?void 0:o.dt)).getMinutes().toString():new Date(1e3*(null===(s=l.current)||void 0===s?void 0:s.dt)).getMinutes().toString()})})},Xe=(t(125),function(e){var n=e.weatherData,t=Object(J.useContext)(ie);return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("p",{className:"page-name__title",children:t}),Object(pe.jsx)("div",{className:"row justify-content-around",children:n.daily&&n.daily.map((function(e){return Object(pe.jsx)($e,{temp:Math.floor(e.temp.day-273.15),title:e.weather[0].main,icon:e.weather[0].icon,date:new Date(1e3*e.dt).getDate(),day:qe[new Date(1e3*e.dt).getDay()],month:Ge[new Date(1e3*e.dt).getMonth()]},e.dt)}))})]})}),Ye=(t(126),function(e){var n=e.weatherData,t=Object(J.useContext)(ie);return Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("p",{className:"page-name__title",children:t}),Object(pe.jsx)("div",{className:"row",children:n.hourly&&n.hourly.map((function(e){return Object(pe.jsx)($e,{temp:Math.floor(e.temp-273.15),title:e.weather[0].main,icon:e.weather[0].icon,date:new Date(1e3*e.dt).getDate(),month:Ge[new Date(1e3*e.dt).getMonth()],day:qe[new Date(1e3*e.dt).getDay()],hours:new Date(1e3*e.dt).getHours().toString()},e.dt)}))})]})}),Ze=$.c.div(S||(S=Object(ne.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding-top: 12rem;\n"]))),en=Object($.d)(_||(_=Object(ne.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]))),nn=$.c.div(D||(D=Object(ne.a)(["\n  display: inline-block;\n  position: relative;\n  width: 80px;\n  height: 80px;\n  & div {\n    box-sizing: border-box;\n    display: block;\n    position: absolute;\n    width: 64px;\n    height: 64px;\n    margin: 8px;\n    border: 6px solid var(--side-menu-color);\n    border-radius: 50%;\n    animation: "," 1.3s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n    border-color: var(--side-menu-color) transparent transparent transparent;\n    &::nth-child(1) {\n      animation-delay: -0.45s;\n    }\n    &::nth-child(2) {\n      animation-delay: -0.3s;\n    }\n    &::nth-child(3) {\n      animation-delay: -0.15s;\n    }\n  }\n"])),en),tn=function(){return Object(pe.jsx)(Ze,{children:Object(pe.jsxs)(nn,{children:[Object(pe.jsx)("div",{}),Object(pe.jsx)("div",{}),Object(pe.jsx)("div",{}),Object(pe.jsx)("div",{})]})})},rn=t(57),an=t.n(rn),cn=t(24),on=t(146),sn=t(143),ln=Object(sn.a)(M||(M=Object(ne.a)(["\n  mutation createUser($input: UserInput) {\n    createUser(input: $input) {\n      username\n      email\n    }\n  }\n"]))),un=Object(sn.a)(T||(T=Object(ne.a)(["\n  mutation loginUser($user: UserInput) {\n    loginUser(user: $user) {\n      username\n      email\n      password\n    }\n  }\n"]))),dn=t(52),bn=$.c.input(A||(A=Object(ne.a)(["\n  outline: none;\n  border: none;\n  width: 400px;\n  height: 40px;\n  box-shadow: 0 0 4px var(--dark-blue);\n  border-radius: 4px;\n  padding-left: 11px;\n  background-color: var(--white);\n  margin-bottom: 14px;\n  transition: box-shadow 0.2s ease;\n  &:focus {\n    box-shadow: 0 0 7px var(--dark-blue);\n  }\n  @media only screen and (max-width: 472px) {\n    width: 320px;\n  }\n  @media only screen and (max-width: 372px) {\n    width: 270px;\n  }\n"]))),jn=function(e){return Object(pe.jsx)("div",{children:Object(pe.jsx)(bn,Object(dn.a)({},e))})},hn=$.c.h2(U||(U=Object(ne.a)(["\n  color: var(--dark-blue);\n  font-size: 55px;\n  font-weight: bold;\n  margin: 120px 0 20px;\n"]))),pn=$.c.div(N||(N=Object(ne.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),mn=$.c.label(z||(z=Object(ne.a)(["\n  display: block;\n  margin: 5px 0 10px;\n  cursor: pointer;\n"]))),xn=$.c.span(E||(E=Object(ne.a)(["\n  color: var(--side-menu-color);\n  font-weight: 700;\n  margin-left: 5px;\n"]))),fn=$.c.div(I||(I=Object(ne.a)(["\n  margin: 30px 0 -104px;\n"]))),gn=$.c.div(H||(H=Object(ne.a)(["\n  background-color: #f8d7da;\n  width: 100%;\n  padding: 0 0 0 8px;\n  margin: 2px 0 6px;\n  border-radius: 4px;\n"]))),On=$.c.span(R||(R=Object(ne.a)(["\n  color: #842029;\n  font-size: 14px;\n"]))),vn=function(e){var n=e.children;return Object(pe.jsx)(gn,{children:Object(pe.jsx)(On,{children:n})})},wn=function(){var e=Object(on.a)(ln),n=Object(W.a)(e,2),t=n[0],r=n[1].loading,a=Object(ue.f)(),c=function(){var e=Object(G.a)(Q.a.mark((function e(n){var r,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=an()(n.password),c={username:n.username,email:n.email,password:r},e.next=5,t({variables:{input:c}});case 5:a("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(n){return e.apply(this,arguments)}}();return r?Object(pe.jsx)(tn,{}):Object(pe.jsxs)(pn,{children:[Object(pe.jsx)(hn,{children:"Register"}),Object(pe.jsx)(cn.c,{initialValues:{username:"",email:"",password:"",password2:""},onSubmit:c,validate:function(e){var n={};return e.username?e.username.length<4&&(n.username="Username must be at least 4 characters"):n.username="Username is required",e.email?/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(e.email)||(n.email="Email is incorrect"):n.email="Email is required",e.password?e.password.length<4&&(n.password="Password must be at least 4 characters"):n.password="Password is required",e.password2?e.password2!==e.password&&(n.password2="Passwords do not match"):n.password2="Repeat your password",n},children:function(e){var n=e.touched,t=e.errors;return Object(pe.jsx)(cn.b,{children:Object(pe.jsxs)(pn,{children:[t.username&&n.username&&Object(pe.jsxs)(vn,{children:["* ",t.username]}),Object(pe.jsx)(cn.a,{name:"username",type:"text",as:jn,placeholder:"Username"}),t.email&&n.email&&Object(pe.jsxs)(vn,{children:["* ",t.email]}),Object(pe.jsx)(cn.a,{name:"email",type:"email",as:jn,placeholder:"Email"}),t.password&&n.password&&Object(pe.jsxs)(vn,{children:["* ",t.password]}),Object(pe.jsx)(cn.a,{name:"password",type:"password",as:jn,placeholder:"Password"}),t.password2&&n.password2&&Object(pe.jsxs)(vn,{children:["* ",t.password2]}),Object(pe.jsx)(cn.a,{name:"password2",type:"password",as:jn,placeholder:"Repeat the password"}),Object(pe.jsx)(_e,{type:"submit",children:"Register"})]})})}})]})},yn=function(){var e=Object(J.useContext)(se),n=e.login,t=e.loginError,r=e.loginLoading,a=e.clearErrors,c=function(){var e=Object(G.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(t);case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(J.useEffect)((function(){return function(){a()}}),[a]),r?Object(pe.jsx)(tn,{}):Object(pe.jsxs)(pn,{children:[t&&Object(pe.jsx)(fn,{children:Object(pe.jsx)("div",{className:"alert alert-danger",role:"alert",children:t})}),Object(pe.jsx)(hn,{children:"Login"}),Object(pe.jsx)(cn.c,{initialValues:{email:"",password:"",checkedRemember:!1},onSubmit:c,children:function(){return Object(pe.jsx)(cn.b,{children:Object(pe.jsxs)(pn,{children:[Object(pe.jsx)(cn.a,{name:"email",type:"email",as:jn,placeholder:"Email"}),Object(pe.jsx)(cn.a,{name:"password",type:"password",as:jn,placeholder:"Password"}),Object(pe.jsxs)(mn,{children:[Object(pe.jsx)(cn.a,{name:"checkedRemember",type:"checkbox"}),Object(pe.jsx)(xn,{children:"Remember me"})]}),Object(pe.jsx)(_e,{type:"submit",children:"Login"})]})})}})]})},kn=function(e){var n=e.isLoading,t=e.weatherData,r=Object(J.useContext)(se).isAuth;return n?Object(pe.jsx)(tn,{}):Object(pe.jsx)(pe.Fragment,{children:r?Object(pe.jsxs)(ue.c,{children:[Object(pe.jsx)(ue.a,{path:"/",element:Object(pe.jsx)(Qe,{weatherData:t})}),Object(pe.jsx)(ue.a,{path:"/daily",element:Object(pe.jsx)(Xe,{weatherData:t})}),Object(pe.jsx)(ue.a,{path:"/hourly",element:Object(pe.jsx)(Ye,{weatherData:t})})]}):Object(pe.jsxs)(ue.c,{children:[Object(pe.jsx)(ue.a,{path:"/",element:Object(pe.jsx)(yn,{})}),Object(pe.jsx)(ue.a,{path:"/register",element:Object(pe.jsx)(wn,{})})]})})},Cn={bgColor:"#dfe6e9",fontColor:"#000",darkBlue:"#3d70b2",white:"#ffffff",sideMenuColor:"rgba(101, 148, 168, 0.92)",buttonColor:"#3d70b2",disabledButtonColor:"#809aba"},Sn={bgColor:"#383838",fontColor:"#d4d4d4",darkBlue:"#292929",white:"#8a8a8a",sideMenuColor:"rgba(0, 0, 0, 0.80)",buttonColor:"#292929",disabledButtonColor:"#474747"},_n=function(e){window.scrollTo(0,0);var n=0,t=setInterval((function(){n>=window.innerWidth&&(clearInterval(t),e.current.style.display="none"),n+=9,e.current.style.left="-".concat(n,"px")}),1)},Dn=function(e,n,t){var r=new Date;r.setTime(r.getTime()+60*t*60*1e3);var a="expires="+r.toUTCString();document.cookie=e+"="+n+";"+a+";path=/"},Mn=t(145),Tn=function(){var e=Object(J.useState)("Tbilisi"),n=Object(W.a)(e,2),t=n[0],r=n[1],a=Object(J.useState)(""),c=Object(W.a)(a,2),i=c[0],o=c[1],s=Object(J.useState)(!0),l=Object(W.a)(s,2),u=l[0],d=l[1],b=Object(q.c)((function(e){return e.theme})).theme,j=Object(q.c)((function(e){return e.weather})),h=j.weather,p=j.loading,m=j.error,x=function(){var e=Object(J.useState)(!1),n=Object(W.a)(e,2),t=n[0],r=n[1],a=Object(J.useState)(""),c=Object(W.a)(a,2),i=c[0],o=c[1],s=Object(on.a)(un),l=Object(W.a)(s,2),u=l[0],d=l[1].loading,b=function(){var e=Object(G.a)(Q.a.mark((function e(n){var t,a,c,i,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.email,a=n.password,c=n.checkedRemember,e.prev=1,e.next=4,u({variables:{user:{email:t,password:a}}});case 4:(i=e.sent).data.loginUser?(s=Object(Mn.a)(),c&&Dn("authToken","".concat(i.data.loginUser.username,"?").concat(s),240),Dn("authToken","".concat(i.data.loginUser.username,"?").concat(s),2),r(!0)):o("Invalid email or password"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),j=Object(J.useCallback)((function(){o("")}),[o]);return{isAuth:t,setIsAuth:r,login:b,loginLoading:d,logout:function(){document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",r(!1)},loginError:i,clearErrors:j}}(),f=x.isAuth,g=x.setIsAuth,O=x.login,v=x.loginLoading,w=x.logout,y=x.loginError,k=x.clearErrors,C=Object(q.b)(),S=Object(J.useRef)();Object(J.useEffect)((function(){C(ee({lat:41.6941,lon:44.8337}));var e=function(e){for(var n=e+"=",t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r++){for(var a=t[r];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(n))return a.substring(n.length,a.length)}return""}("authToken");g(!!e)}),[C,g]);var _=function(e,n,t,a){C(ee({lat:e,lon:n})),r(t),a.current.blur()};return Object(pe.jsxs)($.a,{theme:b===ae?Cn:Sn,children:[Object(pe.jsx)(te,{isMenuHidden:u}),Object(pe.jsx)(se.Provider,{value:{isAuth:f,login:O,logout:w,loginLoading:v,loginError:y,clearErrors:k},children:Object(pe.jsxs)(re.Provider,{value:i,children:[Object(pe.jsx)(Ee,{isMenuHidden:u,setIsMenuHidden:d,setSearchValue:o,handleSearchClick:_,sideMenuHidding:function(){return _n(S)},sideMenuShowing:function(){return function(e){window.scrollTo(0,0),e.current.style.display="flex";var n=window.innerWidth,t=setInterval((function(){n<=0&&clearInterval(t),n<9&&(n-=n,e.current.style.left="-".concat(n,"px"),clearInterval(t)),n-=9,e.current.style.left="-".concat(n,"px")}),1)}(S)}}),Object(pe.jsxs)("div",{className:"app-wrapper",children:[Object(pe.jsx)(Le,{isMenuHidden:u,setIsMenuHidden:d,setSearchValue:o,handleSearchClick:_,hiddingContent:S,sideMenuHidding:function(){return _n(S)}}),Object(pe.jsx)(ie.Provider,{value:t,children:Object(pe.jsxs)("div",{className:"container",children:[m&&Object(pe.jsx)("div",{className:"alert alert-danger",role:"alert",style:{marginTop:25},children:m}),Object(pe.jsx)(kn,{weatherData:h,isLoading:p})]})})]})]})})]})},An=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,148)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,i=n.getTTFB;t(e),r(e),a(e),c(e),i(e)}))},Un=t(94),Nn=t(142),zn=t(144),En=t(141),In=t(19),Hn=t(40),Rn=t(95),Ln=t.n(Rn),Vn=t(16),Jn=Object(X.c)({name:"weather",initialState:{loading:!1,weather:{},error:""},extraReducers:(L={},Object(Vn.a)(L,ee.pending.type,(function(e){e.loading=!0})),Object(Vn.a)(L,ee.fulfilled.type,(function(e,n){var t=n.payload;e.weather=t,e.loading=!1})),Object(Vn.a)(L,ee.rejected.type,(function(e,n){var t=n.payload;e.error=t,e.loading=!1})),L)}).reducer,Pn=t(42),Fn=Object(X.b)("auth/registerUser",function(){var e=Object(G.a)(Q.a.mark((function e(n,t){var r,a,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.rejectWithValue,e.prev=1,(a=JSON.parse(localStorage.getItem("users")))?(c=JSON.stringify([].concat(Object(Pn.a)(a),[n])),localStorage.setItem("users",c)):localStorage.setItem("users",JSON.stringify([n])),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n,t){return e.apply(this,arguments)}}()),Bn=Object(X.b)("auth/loginUser",function(){var e=Object(G.a)(Q.a.mark((function e(n,t){var r,a,c,i,o,s,l;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.email,a=n.password,c=n.checkedRemember,i=t.rejectWithValue,e.prev=2,o=JSON.parse(localStorage.getItem("users")),!(s=o.find((function(e){return e.email===r})))){e.next=13;break}if(an()(a)!==s.password){e.next=13;break}if(l=Object(Mn.a)(),!c){e.next=11;break}return Dn("authToken","".concat(s.username,"?").concat(l),240),e.abrupt("return",s);case 11:return Dn("authToken","".concat(s.username,"?").concat(l),2),e.abrupt("return",s);case 13:return e.abrupt("return",i("Invalid email or password"));case 16:return e.prev=16,e.t0=e.catch(2),e.abrupt("return",i(e.t0.message));case 19:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(n,t){return e.apply(this,arguments)}}()),Wn=Object(X.b)("auth/logoutUser",function(){var e=Object(G.a)(Q.a.mark((function e(n,t){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.rejectWithValue,e.prev=1,document.cookie="authToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",e.next=8;break;case 5:return e.prev=5,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(n,t){return e.apply(this,arguments)}}()),$n=Object(X.c)({name:"auth",initialState:{isAuth:!1,loading:!1,currentUser:{},loginError:""},reducers:{checkUser:function(e,n){e.isAuth=!0,e.currentUser={username:n.payload.username,email:n.payload.email}}},extraReducers:(V={},Object(Vn.a)(V,Fn.pending.type,(function(e){e.loading=!0})),Object(Vn.a)(V,Fn.fulfilled.type,(function(e){e.loading=!1})),Object(Vn.a)(V,Fn.rejected.type,(function(e){e.loading=!1})),Object(Vn.a)(V,Bn.pending.type,(function(e){e.loading=!0})),Object(Vn.a)(V,Bn.fulfilled.type,(function(e,n){var t=n.payload;e.loginError="",e.loading=!1,e.currentUser={username:t.username,email:t.email},e.isAuth=!0})),Object(Vn.a)(V,Bn.rejected.type,(function(e,n){var t=n.payload;e.loading=!1,e.loginError=t})),Object(Vn.a)(V,Wn.pending.type,(function(e){e.loading=!0})),Object(Vn.a)(V,Wn.fulfilled.type,(function(e){e.loading=!1,e.currentUser={},e.isAuth=!1})),Object(Vn.a)(V,Wn.rejected.type,(function(e,n){var t=n.payload;e.loading=!1,e.loginError=t})),V)}),qn=($n.actions.checkUser,$n.reducer),Gn=Object(In.b)({weather:Jn,auth:qn,theme:ye}),Kn={key:"root",storage:Ln.a,whitelist:["theme"]},Qn=Object(Hn.g)(Kn,Gn),Xn=Object(X.a)({reducer:Qn,middleware:function(e){return e({serializableCheck:{ignoredActions:[Hn.a,Hn.f,Hn.b,Hn.c,Hn.d,Hn.e]}})}}),Yn=Object(Hn.h)(Xn),Zn=new Nn.a({uri:"http://131f-46-49-36-193.ngrok.io",cache:new zn.a});B.a.render(Object(pe.jsx)(P.a.StrictMode,{children:Object(pe.jsx)(q.a,{store:Xn,children:Object(pe.jsx)(Un.a,{persistor:Yn,children:Object(pe.jsx)(En.a,{client:Zn,children:Object(pe.jsx)(de.a,{children:Object(pe.jsx)(Tn,{})})})})})}),document.getElementById("root")),An()}},[[131,1,2]]]);
//# sourceMappingURL=main.08ab415e.chunk.js.map